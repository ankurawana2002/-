
import streamlit as st
from gtts import gTTS
import os
from datetime import datetime

rashis = {
    "рдореЗрд╖": "рдЖрдЬ рдХрд╛ рджрд┐рди рдЖрдкрдХреЗ рд▓рд┐рдП рдКрд░реНрдЬрд╛рд╡рд╛рди рд░рд╣реЗрдЧрд╛ред",
    "рд╡реГрд╖рдн": "рдзреИрд░реНрдп рдФрд░ рд╕рдордЭрджрд╛рд░реА рд╕реЗ рдХрд╛рдо рд▓реЗрдВред",
    "рдорд┐рдереБрди": "рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╕реЛрдЪ рд╕реЗ рдХрд╛рд░реНрдп рд╕рд┐рджреНрдз рд╣реЛрдВрдЧреЗред",
    "рдХрд░реНрдХ": "рдкрд░рд┐рд╡рд╛рд░ рдХреЗ рд╕рд╛рде рд╕рдордп рдмрд┐рддрд╛рдПрдВред",
    "рд╕рд┐рдВрд╣": "рдиреЗрддреГрддреНрд╡ рдХреНрд╖рдорддрд╛ рдмрдврд╝реЗрдЧреАред",
    "рдХрдиреНрдпрд╛": "рд╡рд┐рддреНрддреАрдп рд▓рд╛рдн рдХреЗ рдпреЛрдЧ рд╣реИрдВред",
    "рддреБрд▓рд╛": "рдирдП рдЕрд╡рд╕рд░ рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВред",
    "рд╡реГрд╢реНрдЪрд┐рдХ": "рдордиреЛрдмрд▓ рдКрдБрдЪрд╛ рд░рд╣реЗрдЧрд╛ред",
    "рдзрдиреБ": "рдзрд╛рд░реНрдорд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдорди рд▓рдЧреЗрдЧрд╛ред",
    "рдордХрд░": "рдирдИ рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░рд┐рдпрд╛рдБ рдорд┐рд▓реЗрдВрдЧреАред",
    "рдХреБрдВрдн": "рджреЛрд╕реНрддреЛрдВ рдХрд╛ рд╕рд╣рдпреЛрдЧ рдорд┐рд▓реЗрдЧрд╛ред",
    "рдореАрди": "рд╕рдВрддреБрд▓рди рдмрдирд╛рдП рд░рдЦреЗрдВред"
}

st.set_page_config(page_title='рдЬрдп рдЬреНрдпреЛрддрд┐рд╖ - Sanatan AI')
st.title('ЁЯЩП рдЬрдп рдЬреНрдпреЛрддрд┐рд╖ - Sanatan AI')
st.markdown('''### ЁЯЪй Sanatan AI: Horoscope тАв Mantras тАв Shloka
''')

option = st.selectbox("рд╕реЗрд╡рд╛ рдЪреБрдиреЗрдВ:", ["ЁЯФо рд░рд╛рд╢рд┐рдлрд▓ рджреЗрдЦреЗрдВ", "ЁЯХЙя╕П рдордВрддреНрд░ рд╕реБрдиреЗрдВ (11 рдмрд╛рд░)"])

if option == "ЁЯФо рд░рд╛рд╢рд┐рдлрд▓ рджреЗрдЦреЗрдВ":
    rashi = st.selectbox("рдЕрдкрдиреА рд░рд╛рд╢рд┐ рдЪреБрдиреЗрдВ:", list(rashis.keys()))
    today = datetime.now().strftime("%d-%m-%Y")
    st.image(f"images/{rashi}.png", width=150)
    st.subheader(f"ЁЯУЕ {today} рдХрд╛ рд░рд╛рд╢рд┐рдлрд▓")
    st.success(rashis[rashi])
    
elif option == "ЁЯХЙя╕П рдордВрддреНрд░ рд╕реБрдиреЗрдВ (11 рдмрд╛рд░)"):
    mantra = st.selectbox("рдордВрддреНрд░ рдЪреБрдиреЗрдВ:", ["рдЧрд╛рдпрддреНрд░реА рдордВрддреНрд░", "рдорд╣рд╛рдореГрддреНрдпреБрдВрдЬрдп рдордВрддреНрд░", "рд╣рдиреБрдорд╛рди рдЪрд╛рд▓реАрд╕рд╛"])
    if st.button("ЁЯФК 11 рдмрд╛рд░ рд╕реБрдирд╛рдПрдВ"):
        with open(f"mantras/{mantra}.txt", "r", encoding="utf-8") as f:
            text = f.read()
        repeated = (text + "\n") * 11
        tts = gTTS(repeated, lang='hi')
        tts.save("output.mp3")
        audio_file = open("output.mp3", "rb")
        st.audio(audio_file.read(), format='audio/mp3')
        audio_file.close()
